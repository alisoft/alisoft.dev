{"key":"content:fr:docs:5.configuration-glossary:23.configuration-render.md","generatedAt":"2022-03-15T12:18:24.938Z","mtime":"2022-03-15T12:18:24.899Z","slug":"configuration-render","title":"La propriété render","position":"999900050023","to":"/docs/configuration-glossary/configuration-render","draft":false,"page":true,"language":"fr","navigation":{"title":"render"},"description":"Nuxt permet de personnaliser les options au runtime pour le render des pages","menu":"render","category":"configuration-glossary","empty":false,"body":{"raw":"---\ntitle: La propriété render\nnavigation.title: render\ndescription: Nuxt permet de personnaliser les options au runtime pour le render des pages\nmenu: render\ncategory: configuration-glossary\n---\n\n# La propriété render\n\nNuxt permet de personnaliser les options au runtime pour le render des pages\n\n---\n\n## bundleRenderer\n\n- Type: `Object`\n\n> On peut utiliser cette option pour personnaliser le render pour le bundle de `Vue SSR`. Cette option est ignorée lorsque l'on est en mode SPA.\n\n```js{}[nuxt.config.js]\nexport default {\n  render: {\n    bundleRenderer: {\n      directives: {\n        personnalise1(el, dir) {\n          // quelque chose ...\n        }\n      }\n    }\n  }\n}\n```\n\nPour en savoir davantage sur les options disponibles, on peut consulter l'API de [Vue SSR](https://ssr.vuejs.org/en/api.html#renderer-options). Il est recommandé de ne pas utiliser cette option car Nuxt s'occupe déjà de fournir les meilleures valeurs par défaut pour le rendu côté serveur et, une mauvaise configuration pourrait mener à des problèmes de SSR.\n\n## etag\n\n- Type: `Object`\n  - Par défaut: `{ weak: true }`\n\nPour désactiver `etag` pour les pages, il faut définir `etag: false`.\n\nSe référer à la documentation de [etag](https://www.npmjs.com/package/etag) pour voir les options disponibles.\n\nOn peut utiliser notre propre fonction de hash en définissant `etag.hash`:\n\n```js{}[nuxt.config.js]\nimport { murmurHash128 } from 'murmurhash-native'\n\nexport default {\n  render: {\n    etag: {\n      hash: html => murmurHash128(html)\n    }\n  }\n}\n```\n\nDans ce cas, nous utilisons [murmurhash-native](https://github.com/royaltm/node-murmurhash-native), qui est plus rapide pour des body HTML plus larges. À noter que l'option `weak` est ignorée lorsque l'on spécifie notre propre fonction de hachage.\n\n## compressor\n\n- Type `Object`\n  - Par défaut: `{ threshold: 0 }`\n\nLorsque l'on fournit un objet, le middleware de [compression](https://www.npmjs.com/package/compression) sera utilisé (avec les options adéquates).\n\nSi l'on souhaite utiliser notre propre middleware de compression, on peut le désigner directement (ex: `otherComp({ myOptions: 'exemple' })`).\n\nPour désactiver la compression, on utilise `compressor: false`.\n\n## fallback\n\n- Type `Object`\n  - Par défaut: `{ dist: {}, static: { skipUnknown: true } }`\n    - la clé `dist` est utilisé pour les routes correspondant au [publicPath](/docs/configuration-glossary/configuration-build#publicpath) (ie: `/_nuxt/*`)\n    - la clé `static` est utilisé pour les routes correspondant à `/*`\n\n> Options pour le middleware de [serve-placeholder](https://github.com/nuxt/serve-placeholder).\n\nSi on souhaite désactiver un des deux voire les deux, il suffit de passer une valeur `false`.\n\n```js [nuxt.config.js]\nexport default {\n  render: {\n    fallback: {\n      static: {\n        // Avoid sending 404 for these extensions\n        handlers: {\n          '.js': false\n        }\n      }\n    }\n  }\n}\n```\n\n## http2\n\n- Type `Object`\n  - Par défaut: `{ push: false, pushAssets: null }`\n\n> Active les headers push en HTTP2.\n\nOn peut surveiller les liens que l'on pousse en utilisant la fonction `pushAssets`.\n\nExemple:\n\n```js\npushAssets: (req, res, publicPath, preloadFiles) =>\n  preloadFiles\n    .filter(f => f.asType === 'script' && f.file === 'runtime.js')\n    .map(f => `<${publicPath}${f.file}>; rel=preload; as=${f.asType}`)\n```\n\nOn peut aussi ajouter nos propres ressources au tableau. En utilisant `req` et `res` on peut décider quels liens seront poussés en fonction des entêtes de la requête, par exemple en utilisant le cookie contenant le numéro de version de notre application.\n\nLes ressources seront reliées entre elles par un `,` et passées en tant qu'un seul entête `Link`.\n\n## asyncScripts\n\n- Type: `Boolean`\n  - Default: `false`\n\n> Ajoutez un `async` attribut à `<script>` tags pour Nuxt bundles,\n> leur permettant d'être récupérés en parallèle de l'analyse (available with `2.14.8+`). [More information](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script).\n\n## injectScripts\n\n- Type: `Boolean`\n  - Par défaut: `true`\n\n> Ajoute le `<script>` pour les bundles de Nuxt, il faut le définir à `false` pour render du HTML pur, sans JS (disponible depuis la version `2.8.0`).\n\n## resourceHints\n\n- Type: `Boolean`\n  - Par défaut: `true`\n\n> Ajoute des liens `prefetch` et `preload` pour un chargement de page initial plus rapide.\n\nOn pourrait souhaiter désactiver cette option seulement si l'on possède beaucoup de pages et de routes.\n\n## ssr\n\n- Type: `Boolean`\n  - Par défaut: `true` en mode universel et `false` en mode SPA\n\n> Active le render SSR\n\nSi non fournie, cette option est automatiquement définie en fonction de la valeur de `mode`. Elle peut être utile pour dynamiquement activer/désactiver le SSR lors du runtime après que les builds des images soient finis (avec Docker par exemple).\n\n## crossorigin\n\n- Type: `String`\n- Par défaut: `undefined`\n\n> Permet de personnaliser l'attribut `crossorigin` dans les balises `<link rel=\"stylesheet\">` et `<script>` générées dans le HTML.\n\nPlus d'informations: [attributs des paramètres CORS](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes).\n\n## ssrLog\n\n- Type: `Boolean` | `String`\n  - Par défaut: `true` en mode développement et `false` en production\n\n> Transmet les logs du serveur au navigateur pour un meilleur débogage (disponible uniquement en développement).\n\nPour réduire (rendu visuel) les logs, on peut utiliser la valeur `'collapsed'`.\n\n## static\n\n- Type: `Object`\n  - Par défaut: `{}`\n\n> Permet de personnaliser le comportement du répertoire `static/`\n\nSe référer à la documentation de [serve-static](https://www.npmjs.com/package/serve-static) pour voir les options disponibles.\n\nEn plus de celles-ci, nous avons introduit une option `prefix` qui est à `true` par défaut. Cela a pour but d'ajouter la base du routeur à nos ressources statiques.\n\n**Exemple:**\n\n- Ressource: `favicon.ico`\n- Base du routeur: `/t`\n- Avec `prefix: true` (par défaut): `/t/favicon.ico`\n- Avec `prefix: false`: `/favicon.ico`\n\n**Mise en garde**:\n\nCertaines ré-écritures d'URL peuvent ne pas respecter le préfixe.\n\n## dist\n\n- Type: `Object`\n  - Par défaut: `{ maxAge: '1y', index: false }`\n\n> Options utilisées pour les fichiers distribués. Applicable seulement en production.\n\nSe référer à la documentation de [serve-static](https://www.npmjs.com/package/serve-static) pour voir les options disponibles.\n\n## csp\n\n- Type: `Boolean` ou `Object`\n  - Par défaut: `false`\n\n> On peut utiliser ceci pour configurer le Content-Security-Policy afin de charger des ressources externes.\n\n**Pré-requis**:\n\nCes paramètres CSP sont effectifs seulement quand on utilise Nuxt avec `target: 'server'` pour servir notre application SSR. Les `Policies` définies dans `csp.policies` sont ajoutées à la réponse de l'entête HTTP `Content-Security-Policy`.\n\n**Mise à jour des paramètres**:\n\nCes paramètres sont lus directement par le serveur Nuxt à partir du fichier `nuxt.config.js`. Cela veut dire que des changements à ces paramètres prendront effet lorsque le serveur sera relancé. Il n'y a pas besoin de re-build l'application pour mettre à jour les paramètres CSP.\n\n**Méta-balises HTML**:\n\nDans l'objectif d'ajouter [`<meta http-equiv=\"Content-Security-Policy\"/>`](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) au `head`, on aura besoin de passer `csp.addMeta` à `true`. À noter que cette fonctionnalité est indépendante de la configuration des `csp.policies`:\n\n- cela ajoute seulement un `script-src` type policy\n- le `script-src` policy contient seulement les hashs des balises `<script>` qui ont été inline.\n\nLorsque `csp.addMeta` est à `true`, la liste complète des policies définies est toujours ajoutée à l'entête de réponse HTTP.\n\nÀ noter que les hashs CSP ne seront pas ajoutés en tant que `<meta>` si la policy `script-src` contient `'unsafe-inline'`. Cela est dû au fait que le navigateur ignore `'unsafe-inline'` si des hashs sont présents. Il faut passer l'option `unsafeInlineCompatibility` à `true` si on veut que les hashs et `'unsafe-inline'` soient compatibles avec CSPv1. Dans ce cas, la balise `<meta>` ne contiendra toujours que les hashs des des balises `<script>` inline, et les policies définies dans `csp.policies` seront utilisées dans l'entête de réponse HTTP.\n\n```js{}[nuxt.config.js]\nexport default {\n  render: {\n    csp: true\n  }\n}\n\n// OU\n\nexport default {\n  render: {\n    csp: {\n      hashAlgorithm: 'sha256',\n      policies: {\n        'script-src': [\n          'https://www.google-analytics.com',\n          'https://name.example.com'\n        ],\n        'report-uri': ['https://report.example.com/report-csp-violations']\n      },\n      addMeta: true\n    }\n  }\n}\n\n// OU\n/*\n  L'exemple suivant permet à Google Analytics, LogRocket.io, et Sentry.io\n  de permettre des logs ainsi qu'un tracking analytique.\n\n  Plus d'informations sont disponibles sur cet article de Sentry.io\n  afin de comprendre quel lien de tracking nous devrions utiliser.\n  https://blog.sentry.io/2018/09/04/how-sentry-captures-csp-violations\n*/\nconst PRIMARY_HOSTS = `loc.example-website.com`\nexport default {\n  render: {\n    csp: {\n      reportOnly: true,\n      hashAlgorithm: 'sha256',\n      policies: {\n        'default-src': [\"'self'\"],\n        'img-src': ['https:', '*.google-analytics.com'],\n        'worker-src': [\"'self'\", `blob:`, PRIMARY_HOSTS, '*.logrocket.io'],\n        'style-src': [\"'self'\", \"'unsafe-inline'\", PRIMARY_HOSTS],\n        'script-src': [\n          \"'self'\",\n          \"'unsafe-inline'\",\n          PRIMARY_HOSTS,\n          'sentry.io',\n          '*.sentry-cdn.com',\n          '*.google-analytics.com',\n          '*.logrocket.io'\n        ],\n        'connect-src': [PRIMARY_HOSTS, 'sentry.io', '*.google-analytics.com'],\n        'form-action': [\"'self'\"],\n        'frame-ancestors': [\"'none'\"],\n        'object-src': [\"'none'\"],\n        'base-uri': [PRIMARY_HOSTS],\n        'report-uri': [\n          `https://sentry.io/api/<project>/security/?sentry_key=<key>`\n        ]\n      }\n    }\n  }\n}\n```\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"la-propriété-render"},"children":[{"type":"text","value":"La propriété render"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{"class":"d-heading-description"},"children":[{"type":"text","value":"Nuxt permet de personnaliser les options au runtime pour le render des pages"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-hr","props":{"class":"d-heading-hr"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"bundlerenderer"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#bundlerenderer"},"children":[{"type":"text","value":"bundleRenderer"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"On peut utiliser cette option pour personnaliser le render pour le bundle de "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Vue SSR"}]},{"type":"text","value":". Cette option est ignorée lorsque l'on est en mode SPA."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  render"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    bundleRenderer"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      directives"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"personnalise1"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","parameter"]},"children":[{"type":"text","value":"el"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" dir"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n          "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// quelque chose ..."}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n      "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Pour en savoir davantage sur les options disponibles, on peut consulter l'API de "},{"type":"element","tag":"prose-a","props":{"href":"https://ssr.vuejs.org/en/api.html#renderer-options","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Vue SSR"}]},{"type":"text","value":". Il est recommandé de ne pas utiliser cette option car Nuxt s'occupe déjà de fournir les meilleures valeurs par défaut pour le rendu côté serveur et, une mauvaise configuration pourrait mener à des problèmes de SSR."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"etag"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#etag"},"children":[{"type":"text","value":"etag"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"{ weak: true }"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Pour désactiver "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"etag"}]},{"type":"text","value":" pour les pages, il faut définir "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"etag: false"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Se référer à la documentation de "},{"type":"element","tag":"prose-a","props":{"href":"https://www.npmjs.com/package/etag","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"etag"}]},{"type":"text","value":" pour voir les options disponibles."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"On peut utiliser notre propre fonction de hash en définissant "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"etag.hash"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","imports"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" murmurHash128 "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'murmurhash-native'"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  render"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    etag"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tag":"span","props":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"hash"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","parameter"]},"children":[{"type":"text","value":"html"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"murmurHash128"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"html"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Dans ce cas, nous utilisons "},{"type":"element","tag":"prose-a","props":{"href":"https://github.com/royaltm/node-murmurhash-native","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"murmurhash-native"}]},{"type":"text","value":", qui est plus rapide pour des body HTML plus larges. À noter que l'option "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"weak"}]},{"type":"text","value":" est ignorée lorsque l'on spécifie notre propre fonction de hachage."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"compressor"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#compressor"},"children":[{"type":"text","value":"compressor"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"{ threshold: 0 }"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Lorsque l'on fournit un objet, le middleware de "},{"type":"element","tag":"prose-a","props":{"href":"https://www.npmjs.com/package/compression","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"compression"}]},{"type":"text","value":" sera utilisé (avec les options adéquates)."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Si l'on souhaite utiliser notre propre middleware de compression, on peut le désigner directement (ex: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"otherComp({ myOptions: 'exemple' })"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Pour désactiver la compression, on utilise "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"compressor: false"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"fallback"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#fallback"},"children":[{"type":"text","value":"fallback"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"{ dist: {}, static: { skipUnknown: true } }"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"la clé "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"dist"}]},{"type":"text","value":" est utilisé pour les routes correspondant au "},{"type":"element","tag":"prose-a","props":{"href":"/docs/configuration-glossary/configuration-build#publicpath"},"children":[{"type":"text","value":"publicPath"}]},{"type":"text","value":" (ie: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"/_nuxt/*"}]},{"type":"text","value":")"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"la clé "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"static"}]},{"type":"text","value":" est utilisé pour les routes correspondant à "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"/*"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Options pour le middleware de "},{"type":"element","tag":"prose-a","props":{"href":"https://github.com/nuxt/serve-placeholder","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"serve-placeholder"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Si on souhaite désactiver un des deux voire les deux, il suffit de passer une valeur "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  render"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    fallback"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// Avoid sending 404 for these extensions"}]},{"type":"text","value":"\n        handlers"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n          "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'.js'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","boolean"]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n      "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"http2"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#http2"},"children":[{"type":"text","value":"http2"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"{ push: false, pushAssets: null }"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Active les headers push en HTTP2."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"On peut surveiller les liens que l'on pousse en utilisant la fonction "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"pushAssets"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Exemple:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"pushAssets"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","parameter"]},"children":[{"type":"text","value":"req"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" res"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" publicPath"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" preloadFiles"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":"\n  preloadFiles\n    "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"filter"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","parameter"]},"children":[{"type":"text","value":"f"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" f"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"asType"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"==="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'script'"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"&&"}]},{"type":"text","value":" f"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"file"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"==="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'runtime.js'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","parameter"]},"children":[{"type":"text","value":"f"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","template-string"]},"children":[{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"className":["token","interpolation"]},"children":[{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"${"}]},{"type":"text","value":"publicPath"},{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"className":["token","interpolation"]},"children":[{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"${"}]},{"type":"text","value":"f"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":">; rel=preload; as="}]},{"type":"element","tag":"span","props":{"className":["token","interpolation"]},"children":[{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"${"}]},{"type":"text","value":"f"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"asType"}]},{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"On peut aussi ajouter nos propres ressources au tableau. En utilisant "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"req"}]},{"type":"text","value":" et "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"res"}]},{"type":"text","value":" on peut décider quels liens seront poussés en fonction des entêtes de la requête, par exemple en utilisant le cookie contenant le numéro de version de notre application."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Les ressources seront reliées entre elles par un "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":","}]},{"type":"text","value":" et passées en tant qu'un seul entête "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Link"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"asyncscripts"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#asyncscripts"},"children":[{"type":"text","value":"asyncScripts"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Default: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Ajoutez un "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" attribut à "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<script>"}]},{"type":"text","value":" tags pour Nuxt bundles,\nleur permettant d'être récupérés en parallèle de l'analyse (available with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"2.14.8+"}]},{"type":"text","value":"). "},{"type":"element","tag":"prose-a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"More information"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"injectscripts"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#injectscripts"},"children":[{"type":"text","value":"injectScripts"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Ajoute le "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<script>"}]},{"type":"text","value":" pour les bundles de Nuxt, il faut le définir à "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" pour render du HTML pur, sans JS (disponible depuis la version "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"2.8.0"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"resourcehints"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#resourcehints"},"children":[{"type":"text","value":"resourceHints"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Ajoute des liens "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"prefetch"}]},{"type":"text","value":" et "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"preload"}]},{"type":"text","value":" pour un chargement de page initial plus rapide."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"On pourrait souhaiter désactiver cette option seulement si l'on possède beaucoup de pages et de routes."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"ssr"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#ssr"},"children":[{"type":"text","value":"ssr"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" en mode universel et "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" en mode SPA"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Active le render SSR"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Si non fournie, cette option est automatiquement définie en fonction de la valeur de "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"mode"}]},{"type":"text","value":". Elle peut être utile pour dynamiquement activer/désactiver le SSR lors du runtime après que les builds des images soient finis (avec Docker par exemple)."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"crossorigin"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#crossorigin"},"children":[{"type":"text","value":"crossorigin"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"String"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"undefined"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Permet de personnaliser l'attribut "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"crossorigin"}]},{"type":"text","value":" dans les balises "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<link rel=\"stylesheet\">"}]},{"type":"text","value":" et "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<script>"}]},{"type":"text","value":" générées dans le HTML."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Plus d'informations: "},{"type":"element","tag":"prose-a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"attributs des paramètres CORS"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"ssrlog"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#ssrlog"},"children":[{"type":"text","value":"ssrLog"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":" | "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"String"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" en mode développement et "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" en production"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Transmet les logs du serveur au navigateur pour un meilleur débogage (disponible uniquement en développement)."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Pour réduire (rendu visuel) les logs, on peut utiliser la valeur "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"'collapsed'"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"static"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#static"},"children":[{"type":"text","value":"static"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"{}"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Permet de personnaliser le comportement du répertoire "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"static/"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Se référer à la documentation de "},{"type":"element","tag":"prose-a","props":{"href":"https://www.npmjs.com/package/serve-static","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"serve-static"}]},{"type":"text","value":" pour voir les options disponibles."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"En plus de celles-ci, nous avons introduit une option "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"prefix"}]},{"type":"text","value":" qui est à "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" par défaut. Cela a pour but d'ajouter la base du routeur à nos ressources statiques."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Exemple:"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Ressource: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"favicon.ico"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Base du routeur: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"/t"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Avec "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"prefix: true"}]},{"type":"text","value":" (par défaut): "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"/t/favicon.ico"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Avec "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"prefix: false"}]},{"type":"text","value":": "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"/favicon.ico"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Mise en garde"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Certaines ré-écritures d'URL peuvent ne pas respecter le préfixe."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"dist"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#dist"},"children":[{"type":"text","value":"dist"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"{ maxAge: '1y', index: false }"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Options utilisées pour les fichiers distribués. Applicable seulement en production."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Se référer à la documentation de "},{"type":"element","tag":"prose-a","props":{"href":"https://www.npmjs.com/package/serve-static","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"serve-static"}]},{"type":"text","value":" pour voir les options disponibles."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"csp"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#csp"},"children":[{"type":"text","value":"csp"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":" ou "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"On peut utiliser ceci pour configurer le Content-Security-Policy afin de charger des ressources externes."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Pré-requis"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Ces paramètres CSP sont effectifs seulement quand on utilise Nuxt avec "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"target: 'server'"}]},{"type":"text","value":" pour servir notre application SSR. Les "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Policies"}]},{"type":"text","value":" définies dans "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"csp.policies"}]},{"type":"text","value":" sont ajoutées à la réponse de l'entête HTTP "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Content-Security-Policy"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Mise à jour des paramètres"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Ces paramètres sont lus directement par le serveur Nuxt à partir du fichier "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":". Cela veut dire que des changements à ces paramètres prendront effet lorsque le serveur sera relancé. Il n'y a pas besoin de re-build l'application pour mettre à jour les paramètres CSP."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Méta-balises HTML"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Dans l'objectif d'ajouter "},{"type":"element","tag":"prose-a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<meta http-equiv=\"Content-Security-Policy\"/>"}]}]},{"type":"text","value":" au "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"head"}]},{"type":"text","value":", on aura besoin de passer "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"csp.addMeta"}]},{"type":"text","value":" à "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":". À noter que cette fonctionnalité est indépendante de la configuration des "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"csp.policies"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"cela ajoute seulement un "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"script-src"}]},{"type":"text","value":" type policy"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"le "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"script-src"}]},{"type":"text","value":" policy contient seulement les hashs des balises "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<script>"}]},{"type":"text","value":" qui ont été inline."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Lorsque "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"csp.addMeta"}]},{"type":"text","value":" est à "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":", la liste complète des policies définies est toujours ajoutée à l'entête de réponse HTTP."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"À noter que les hashs CSP ne seront pas ajoutés en tant que "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<meta>"}]},{"type":"text","value":" si la policy "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"script-src"}]},{"type":"text","value":" contient "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"'unsafe-inline'"}]},{"type":"text","value":". Cela est dû au fait que le navigateur ignore "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"'unsafe-inline'"}]},{"type":"text","value":" si des hashs sont présents. Il faut passer l'option "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"unsafeInlineCompatibility"}]},{"type":"text","value":" à "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" si on veut que les hashs et "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"'unsafe-inline'"}]},{"type":"text","value":" soient compatibles avec CSPv1. Dans ce cas, la balise "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<meta>"}]},{"type":"text","value":" ne contiendra toujours que les hashs des des balises "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<script>"}]},{"type":"text","value":" inline, et les policies définies dans "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"csp.policies"}]},{"type":"text","value":" seront utilisées dans l'entête de réponse HTTP."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  render"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    csp"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// OU"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  render"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    csp"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      hashAlgorithm"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'sha256'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      policies"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'script-src'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"\n          "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'https://www.google-analytics.com'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n          "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'https://name.example.com'"}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'report-uri'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'https://report.example.com/report-csp-violations'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n      "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      addMeta"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// OU"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"/*\n  L'exemple suivant permet à Google Analytics, LogRocket.io, et Sentry.io\n  de permettre des logs ainsi qu'un tracking analytique.\n\n  Plus d'informations sont disponibles sur cet article de Sentry.io\n  afin de comprendre quel lien de tracking nous devrions utiliser.\n  https://blog.sentry.io/2018/09/04/how-sentry-captures-csp-violations\n*/"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","constant"]},"children":[{"type":"text","value":"PRIMARY_HOSTS"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","template-string"]},"children":[{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"loc.example-website.com"}]},{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  render"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    csp"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      reportOnly"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      hashAlgorithm"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'sha256'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      policies"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'default-src'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"'self'\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'img-src'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'https:'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'*.google-analytics.com'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'worker-src'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"'self'\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","template-string"]},"children":[{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"blob:"}]},{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","constant"]},"children":[{"type":"text","value":"PRIMARY_HOSTS"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'*.logrocket.io'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'style-src'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"'self'\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"'unsafe-inline'\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","constant"]},"children":[{"type":"text","value":"PRIMARY_HOSTS"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'script-src'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"\n          "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"'self'\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n          "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"'unsafe-inline'\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n          "},{"type":"element","tag":"span","props":{"className":["token","constant"]},"children":[{"type":"text","value":"PRIMARY_HOSTS"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n          "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'sentry.io'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n          "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'*.sentry-cdn.com'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n          "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'*.google-analytics.com'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n          "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'*.logrocket.io'"}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'connect-src'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"className":["token","constant"]},"children":[{"type":"text","value":"PRIMARY_HOSTS"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'sentry.io'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'*.google-analytics.com'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'form-action'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"'self'\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'frame-ancestors'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"'none'\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'object-src'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"'none'\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'base-uri'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"className":["token","constant"]},"children":[{"type":"text","value":"PRIMARY_HOSTS"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'report-uri'"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"\n          "},{"type":"element","tag":"span","props":{"className":["token","template-string"]},"children":[{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"https://sentry.io/api/<project>/security/?sentry_key=<key>"}]},{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"text","value":"\n        "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n      "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"bundlerenderer","depth":2,"text":"bundleRenderer"},{"id":"etag","depth":2,"text":"etag"},{"id":"compressor","depth":2,"text":"compressor"},{"id":"fallback","depth":2,"text":"fallback"},{"id":"http2","depth":2,"text":"http2"},{"id":"asyncscripts","depth":2,"text":"asyncScripts"},{"id":"injectscripts","depth":2,"text":"injectScripts"},{"id":"resourcehints","depth":2,"text":"resourceHints"},{"id":"ssr","depth":2,"text":"ssr"},{"id":"crossorigin","depth":2,"text":"crossorigin"},{"id":"ssrlog","depth":2,"text":"ssrLog"},{"id":"static","depth":2,"text":"static"},{"id":"dist","depth":2,"text":"dist"},{"id":"csp","depth":2,"text":"csp"}]}}}