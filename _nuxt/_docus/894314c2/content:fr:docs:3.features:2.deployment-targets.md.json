{"key":"content:fr:docs:3.features:2.deployment-targets.md","generatedAt":"2022-03-15T12:18:24.132Z","mtime":"2022-03-15T12:18:24.122Z","slug":"deployment-targets","title":"Cibles de déploiement","position":"999900030002","to":"/docs/features/deployment-targets","draft":false,"page":true,"language":"fr","description":"Cibles de déploiement","category":"features","empty":false,"body":{"raw":"---\ntitle: Cibles de déploiement\ndescription: Cibles de déploiement\ncategory: features\n---\n# Cibles de déploiement\n\n## Hébergement statique\n\nAvec de l'hébergement statique, nous n'avons pas besoin de serveur, nous pouvons choisir d'héberger une SPA ou une MPA (`multiple page application`), en somme: des sites statiques. Ce qui veut dire que nous pouvons envoyer le tout sur un hébergement serverless ou un CDN et ce, de manière gratuite. Pour de l'hébergement statique, la propriété `target` doit être mise sur `static` dans le fichier `nuxt.config`.\n\n```js{}[nuxt.config.js]\nexport default {\n  target: 'static' // la valeur par défaut est 'server'\n}\n```\n\n### SPA\n\nLes Single Page Applications (SPA) sont des pages qui sont render seulement du côté client sans le besoin d'un serveur. Pour déployer une SPA, il faut mettre [le `mode` à `spa`](/docs/features/rendering-modes#spa) et ensuite utiliser la commande `build` pour générer notre application.\n\n```js{}[nuxt.config.js]\nexport default {\n  target: 'static' // la valeur par défaut est 'server'\n  mode: 'spa'\n}\n```\n\n### Sites Statiques\n\nComme Nuxt marche aussi en tant que générateur de sites statiques, nous pouvons générer notre application en tant que tel. Générer notre application Nuxt et bénéficier de tous les avantages d'une application universelle sans avoir besoin d'un serveur. La commande nuxt `generate` va s'occuper de générer l'HTML pour chacune de nos routes et mettre le tout dans le répertoire `dist`.\n\nGlobalement, chaque fichier `.vue` qui sera placé à l'intérieur du répertoire `pages` sera généré en tant que page HTML statique. Cela va améliorer la performance, le SEO (référencement naturel) ainsi que permettre un meilleur support en mode hors-ligne.\n\n::alert{type=\"info\"}\n\nLes sites statiques fonctionnent avec le mode [universel](https://nuxtjs.org/guides/features/rendering-modes#universal) par défaut.\n\n::\n\n**Utiliser la commande `nuxt dev` avec `static` comme cible de déploiement peut améliorer l'expérience développeur.**\n\n- Enlève `req` & `res` du `context`\n- Solution de secours sur le rendu côté client dans le cas d'une 404, d'erreurs et de redirections [voir les solutions de secours d'une SPA](/docs/concepts/static-site-generation#spa-fallback)\n- `$route.query` sera toujours égal à `{}` sur le render côté serveur\n- `process.static` est vrai\n\n::alert{type=\"info\"}\n\nNous mettons de plus `process.target` à disposition pour les auteurs de modules qui souhaiteraient ajouter un comportement particulier en fonction de l'utilisateur visé.\n\n::\n\n## Hébergement avec serveur\n\nL'hébergement avec serveur requiert un serveur et a pour but d'être utilisé dans le cas d'applications SSR. Le rendu côté serveur aussi connu sous le nom de SSR, signifie que notre page est générée sur le serveur à chaque fois qu'un utilisateur en fait la requête. Quand l'utilisateur ouvre une de nos pages, son navigateur va envoyer une requête au serveur pour lui demander cette page. Une fois render sur le serveur, la page est renvoyée au navigateur avec tout le contenu.\n\nPour de l'hébergement avec serveur, la propriété `target` doit être mise à `server` (valeur par défaut). On utilise la commande `build` pour générer l'application.\n\n```js{}[nuxt.config.js]\nexport default {\n  target: 'server'\n}\n```\n\n::alert{type=\"info\"}\n\nLes SSR fonctionnent avec le mode [universel](https://nuxtjs.org/guides/features/rendering-modes#universal) par défaut.\n\n::\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"cibles-de-déploiement"},"children":[{"type":"text","value":"Cibles de déploiement"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"hébergement-statique"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#h%C3%A9bergement-statique"},"children":[{"type":"text","value":"Hébergement statique"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Avec de l'hébergement statique, nous n'avons pas besoin de serveur, nous pouvons choisir d'héberger une SPA ou une MPA ("},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"multiple page application"}]},{"type":"text","value":"), en somme: des sites statiques. Ce qui veut dire que nous pouvons envoyer le tout sur un hébergement serverless ou un CDN et ce, de manière gratuite. Pour de l'hébergement statique, la propriété "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"target"}]},{"type":"text","value":" doit être mise sur "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"static"}]},{"type":"text","value":" dans le fichier "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  target"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'static'"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// la valeur par défaut est 'server'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"spa"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#spa"},"children":[{"type":"text","value":"SPA"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Les Single Page Applications (SPA) sont des pages qui sont render seulement du côté client sans le besoin d'un serveur. Pour déployer une SPA, il faut mettre "},{"type":"element","tag":"prose-a","props":{"href":"/docs/features/rendering-modes#spa"},"children":[{"type":"text","value":"le "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"mode"}]},{"type":"text","value":" à "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"spa"}]}]},{"type":"text","value":" et ensuite utiliser la commande "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"build"}]},{"type":"text","value":" pour générer notre application."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  target"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'static'"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// la valeur par défaut est 'server'"}]},{"type":"text","value":"\n  mode"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'spa'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"sites-statiques"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#sites-statiques"},"children":[{"type":"text","value":"Sites Statiques"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Comme Nuxt marche aussi en tant que générateur de sites statiques, nous pouvons générer notre application en tant que tel. Générer notre application Nuxt et bénéficier de tous les avantages d'une application universelle sans avoir besoin d'un serveur. La commande nuxt "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"generate"}]},{"type":"text","value":" va s'occuper de générer l'HTML pour chacune de nos routes et mettre le tout dans le répertoire "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"dist"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Globalement, chaque fichier "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":".vue"}]},{"type":"text","value":" qui sera placé à l'intérieur du répertoire "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"pages"}]},{"type":"text","value":" sera généré en tant que page HTML statique. Cela va améliorer la performance, le SEO (référencement naturel) ainsi que permettre un meilleur support en mode hors-ligne."}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Les sites statiques fonctionnent avec le mode "},{"type":"element","tag":"prose-a","props":{"href":"https://nuxtjs.org/guides/features/rendering-modes#universal","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"universel"}]},{"type":"text","value":" par défaut."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Utiliser la commande "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt dev"}]},{"type":"text","value":" avec "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"static"}]},{"type":"text","value":" comme cible de déploiement peut améliorer l'expérience développeur."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Enlève "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"req"}]},{"type":"text","value":" & "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"res"}]},{"type":"text","value":" du "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"context"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Solution de secours sur le rendu côté client dans le cas d'une 404, d'erreurs et de redirections "},{"type":"element","tag":"prose-a","props":{"href":"/docs/concepts/static-site-generation#spa-fallback"},"children":[{"type":"text","value":"voir les solutions de secours d'une SPA"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"$route.query"}]},{"type":"text","value":" sera toujours égal à "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"{}"}]},{"type":"text","value":" sur le render côté serveur"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.static"}]},{"type":"text","value":" est vrai"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nous mettons de plus "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.target"}]},{"type":"text","value":" à disposition pour les auteurs de modules qui souhaiteraient ajouter un comportement particulier en fonction de l'utilisateur visé."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"hébergement-avec-serveur"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#h%C3%A9bergement-avec-serveur"},"children":[{"type":"text","value":"Hébergement avec serveur"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"L'hébergement avec serveur requiert un serveur et a pour but d'être utilisé dans le cas d'applications SSR. Le rendu côté serveur aussi connu sous le nom de SSR, signifie que notre page est générée sur le serveur à chaque fois qu'un utilisateur en fait la requête. Quand l'utilisateur ouvre une de nos pages, son navigateur va envoyer une requête au serveur pour lui demander cette page. Une fois render sur le serveur, la page est renvoyée au navigateur avec tout le contenu."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Pour de l'hébergement avec serveur, la propriété "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"target"}]},{"type":"text","value":" doit être mise à "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"server"}]},{"type":"text","value":" (valeur par défaut). On utilise la commande "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"build"}]},{"type":"text","value":" pour générer l'application."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  target"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'server'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Les SSR fonctionnent avec le mode "},{"type":"element","tag":"prose-a","props":{"href":"https://nuxtjs.org/guides/features/rendering-modes#universal","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"universel"}]},{"type":"text","value":" par défaut."}]}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"hébergement-statique","depth":2,"text":"Hébergement statique","children":[{"id":"spa","depth":3,"text":"SPA"},{"id":"sites-statiques","depth":3,"text":"Sites Statiques"}]},{"id":"hébergement-avec-serveur","depth":2,"text":"Hébergement avec serveur"}]}}}