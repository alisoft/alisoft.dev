{"key":"content:ja:docs:3.features:2.deployment-targets.md","generatedAt":"2022-03-15T12:42:48.730Z","mtime":"2022-03-15T12:42:48.725Z","slug":"deployment-targets","title":"デプロイターゲット","position":"999900030002","to":"/docs/features/deployment-targets","draft":false,"page":true,"language":"ja","category":"features","empty":false,"description":"","body":{"raw":"---\ntitle: デプロイターゲット\ncategory: features\n---\n# デプロイターゲット\n\n## 静的ホスティング\n\nNuxt は静的サイトジェネレータとしても機能します。Nuxt アプリケーションを静的にレンダリングし、サーバーなしでユニバーサルアプリケーションのいいところが全て使えます。`nuxt generate` コマンドはウェブサイトの静的バージョンを生成します。ルートごとに HTML を生成し、それを `dist/` ディレクトリ内に配置します。これによりパフォーマンスと SEO が向上し、オフラインサポートが向上します。\n\n::alert{type=\"info\"}\n[Nuxt Crawler](/docs/configuration-glossary/configuration-generate#crawler) のおかげで動的なルートも生成されます。\n::\n\nFor static sites the target of `static` needs to be added to your `nuxt.config` file.\n\n```js{}[nuxt.config.js]\nexport default {\n  target: 'static' // デフォルトは 'server'\n}\n```\n\n**target を static にした状態で nuxt dev を実行すると、開発者の体験は向上するでしょう:**\n\n- `context` から `req` と `res` を削除します\n- クライアントサイドレンダリングの 404、エラー、リダイレクトをフォールバックします [SPA フォールバックを参照](/docs/concepts/static-site-generation#spa-fallback)\n- サーバーサイドレンダリングでは常に `$route.query` と `{}` は等しくなります\n- `process.static` は true になります\n\n::alert{type=\"info\"}\nまた、モジュールの製作者がユーザーターゲットに応じてロジックを追加するために `process.target` を公開しています。\n::\n\n## サーバーホスティング\n\nサーバーホスティングとは、Node.js サーバー上で Nuxt を動かすことです。ユーザーがあなたのページを開くと、ユーザーのブラウザはサーバーからそのページをリクエストします。Nuxt はそのリクエストを処理し、ページをレンダリングして、結果のページをすべてのコンテンツとともに送り返します。\n\n生成時にあらかじめHTMLをレンダリングするのではなく、リクエストごとにレンダリングしたい場合や、[serverMiddleware](/docs/configuration-glossary/configuration-servermiddleware)が必要な場合は、サーバーホスティングが必要かもしれません。\n\n::alert{type=\"info\"}\n`ssr: false` を指定してサーバーホスティングで Nuxt を実行することはできますが、Nuxt は各ページの HTML を完全にはレンダリングしません。サーバーミドルウェアは必要だが、サーバーサイドで完全にレンダリングされた HTML は必要ないという場合に、このオプションを選択することができます。\n::\n\nサーバーホスティングの場合は、デフォルトである `target: 'server'` が使用されます。アプリケーションをビルドするには、`build` コマンドを使用します。\n\n```js{}[nuxt.config.js]\nexport default {\n  target: 'server'\n}\n```\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"デプロイターゲット"},"children":[{"type":"text","value":"デプロイターゲット"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"静的ホスティング"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E9%9D%99%E7%9A%84%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0"},"children":[{"type":"text","value":"静的ホスティング"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt は静的サイトジェネレータとしても機能します。Nuxt アプリケーションを静的にレンダリングし、サーバーなしでユニバーサルアプリケーションのいいところが全て使えます。"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":" コマンドはウェブサイトの静的バージョンを生成します。ルートごとに HTML を生成し、それを "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"dist/"}]},{"type":"text","value":" ディレクトリ内に配置します。これによりパフォーマンスと SEO が向上し、オフラインサポートが向上します。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-a","props":{"href":"/docs/configuration-glossary/configuration-generate#crawler"},"children":[{"type":"text","value":"Nuxt Crawler"}]},{"type":"text","value":" のおかげで動的なルートも生成されます。"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"For static sites the target of "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"static"}]},{"type":"text","value":" needs to be added to your "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":" file."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  target"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'static'"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// デフォルトは 'server'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"target を static にした状態で nuxt dev を実行すると、開発者の体験は向上するでしょう:"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"context"}]},{"type":"text","value":" から "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"req"}]},{"type":"text","value":" と "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"res"}]},{"type":"text","value":" を削除します"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"クライアントサイドレンダリングの 404、エラー、リダイレクトをフォールバックします "},{"type":"element","tag":"prose-a","props":{"href":"/docs/concepts/static-site-generation#spa-fallback"},"children":[{"type":"text","value":"SPA フォールバックを参照"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"サーバーサイドレンダリングでは常に "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"$route.query"}]},{"type":"text","value":" と "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"{}"}]},{"type":"text","value":" は等しくなります"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.static"}]},{"type":"text","value":" は true になります"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"また、モジュールの製作者がユーザーターゲットに応じてロジックを追加するために "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.target"}]},{"type":"text","value":" を公開しています。"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"サーバーホスティング"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0"},"children":[{"type":"text","value":"サーバーホスティング"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"サーバーホスティングとは、Node.js サーバー上で Nuxt を動かすことです。ユーザーがあなたのページを開くと、ユーザーのブラウザはサーバーからそのページをリクエストします。Nuxt はそのリクエストを処理し、ページをレンダリングして、結果のページをすべてのコンテンツとともに送り返します。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"生成時にあらかじめHTMLをレンダリングするのではなく、リクエストごとにレンダリングしたい場合や、"},{"type":"element","tag":"prose-a","props":{"href":"/docs/configuration-glossary/configuration-servermiddleware"},"children":[{"type":"text","value":"serverMiddleware"}]},{"type":"text","value":"が必要な場合は、サーバーホスティングが必要かもしれません。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"ssr: false"}]},{"type":"text","value":" を指定してサーバーホスティングで Nuxt を実行することはできますが、Nuxt は各ページの HTML を完全にはレンダリングしません。サーバーミドルウェアは必要だが、サーバーサイドで完全にレンダリングされた HTML は必要ないという場合に、このオプションを選択することができます。"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"サーバーホスティングの場合は、デフォルトである "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"target: 'server'"}]},{"type":"text","value":" が使用されます。アプリケーションをビルドするには、"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"build"}]},{"type":"text","value":" コマンドを使用します。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  target"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'server'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"静的ホスティング","depth":2,"text":"静的ホスティング"},{"id":"サーバーホスティング","depth":2,"text":"サーバーホスティング"}]}}}