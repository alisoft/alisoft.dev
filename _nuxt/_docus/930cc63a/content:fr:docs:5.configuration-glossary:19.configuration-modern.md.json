{"key":"content:fr:docs:5.configuration-glossary:19.configuration-modern.md","generatedAt":"2022-03-15T12:42:47.176Z","mtime":"2022-03-15T12:42:47.168Z","slug":"configuration-modern","title":"La propriété modern","position":"999900050019","to":"/docs/configuration-glossary/configuration-modern","draft":false,"page":true,"language":"fr","navigation":{"title":"modern"},"description":"Build et sert un bundle moderne","menu":"modern","category":"configuration-glossary","empty":false,"body":{"raw":"---\ntitle: La propriété modern\nnavigation.title: modern\ndescription: Build et sert un bundle moderne\nmenu: modern\ncategory: configuration-glossary\n---\n\n# La propriété modern\n\nBuild et sert un bundle moderne\n\n---\n\n> Cette fonctionnalité est inspirée du mode `modern` de [vue-cli](https://cli.vuejs.org/guide/browser-compatibility.html#modern-mode).\n\n- Type: `String` ou `Boolean`\n  - Par défaut: `false`\n  - Valeurs possibles:\n    - `'client'`: Sert les deux scripts, le bundle moderne `<script type=\"module\">` et le bundle legacy `<script nomodule>`, fournit aussi un `<link rel=\"modulepreload\">` pour le bundle moderne. Chaque navigateur qui comprend le type `module` chargera le bundle moderne pendant que les navigateurs plus anciens utiliseront le bundle legacy de secours (ce dernier sera transpilé).\n    - `'server'` ou `true`: Le serveur Node.js va vérifier la version du navigateur grâce au _user agent_ et servira le bundle moderne ou de secours en fonction.\n    - `false`: désactive le build moderne.\n\nLes deux bundles possibles sont:\n\n1. Bundle moderne: vise les navigateurs modernes qui supportent les _ES modules_\n2. Bundle legacy (de secours): vise les navigateurs plus anciens en fonction de la configuration de Babel (compatible IE9 par défaut).\n\n**Info**:\n\n- On peut utiliser la commande `[--modern | -m]=[mode]` pour build/démarrer les bundles modernes:\n\n```json{}[package.json]\n{\n  \"scripts\": {\n    \"build:modern\": \"nuxt build --modern=server\",\n    \"start:modern\": \"nuxt start --modern=server\"\n  }\n}\n```\n\n**Information à propos de _nuxt generate_**: La propriété `modern` marche aussi avec la commande `nuxt generate`, mais dans ce cas là, seulement l'option `client` est honorée et sera sélectionnée lors de l'exécution de la commande `nuxt generate --modern` sans fournir d'autres valeurs.\n\n- Nuxt va automatiquement détecter le build `moderne` dans `nuxt start` lorsque `modern` n'est pas spécifié, le mode d'auto-détection est le suivant:\n\n| srr   | Modern Mode |\n| ----- | :---------: |\n| true  |   server    |\n| false |   client    |\n\n- Le mode `moderne` pour `nuxt generate` ne peut être que `client`\n- Il faut utiliser [`render.crossorigin`](/docs/configuration-glossary/configuration-render#crossorigin) pour définir l'attribut `crossorigin` dans `<link>` et `<script>`.\n\n> Se réferer à l'excellent post de [Phillip Walton](https://philipwalton.com/articles/deploying-es2015-code-in-production-today/) sur les builds modernes.\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"la-propriété-modern"},"children":[{"type":"text","value":"La propriété modern"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{"class":"d-heading-description"},"children":[{"type":"text","value":"Build et sert un bundle moderne"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-hr","props":{"class":"d-heading-hr"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Cette fonctionnalité est inspirée du mode "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"modern"}]},{"type":"text","value":" de "},{"type":"element","tag":"prose-a","props":{"href":"https://cli.vuejs.org/guide/browser-compatibility.html#modern-mode","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"vue-cli"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" ou "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Par défaut: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Valeurs possibles:"},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"'client'"}]},{"type":"text","value":": Sert les deux scripts, le bundle moderne "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<script type=\"module\">"}]},{"type":"text","value":" et le bundle legacy "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<script nomodule>"}]},{"type":"text","value":", fournit aussi un "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<link rel=\"modulepreload\">"}]},{"type":"text","value":" pour le bundle moderne. Chaque navigateur qui comprend le type "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"module"}]},{"type":"text","value":" chargera le bundle moderne pendant que les navigateurs plus anciens utiliseront le bundle legacy de secours (ce dernier sera transpilé)."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"'server'"}]},{"type":"text","value":" ou "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":": Le serveur Node.js va vérifier la version du navigateur grâce au "},{"type":"element","tag":"prose-em","props":{},"children":[{"type":"text","value":"user agent"}]},{"type":"text","value":" et servira le bundle moderne ou de secours en fonction."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":": désactive le build moderne."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Les deux bundles possibles sont:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ol","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Bundle moderne: vise les navigateurs modernes qui supportent les "},{"type":"element","tag":"prose-em","props":{},"children":[{"type":"text","value":"ES modules"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Bundle legacy (de secours): vise les navigateurs plus anciens en fonction de la configuration de Babel (compatible IE9 par défaut)."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Info"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"On peut utiliser la commande "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"[--modern | -m]=[mode]"}]},{"type":"text","value":" pour build/démarrer les bundles modernes:"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"package.json"}]},{"type":"element","tag":"pre","props":{"className":["language-json","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"scripts\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"build:modern\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"nuxt build --modern=server\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"start:modern\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"nuxt start --modern=server\""}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Information à propos de "},{"type":"element","tag":"prose-em","props":{},"children":[{"type":"text","value":"nuxt generate"}]}]},{"type":"text","value":": La propriété "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"modern"}]},{"type":"text","value":" marche aussi avec la commande "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":", mais dans ce cas là, seulement l'option "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"client"}]},{"type":"text","value":" est honorée et sera sélectionnée lors de l'exécution de la commande "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate --modern"}]},{"type":"text","value":" sans fournir d'autres valeurs."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Nuxt va automatiquement détecter le build "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"moderne"}]},{"type":"text","value":" dans "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt start"}]},{"type":"text","value":" lorsque "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"modern"}]},{"type":"text","value":" n'est pas spécifié, le mode d'auto-détection est le suivant:"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-table","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-thead","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-th","props":{},"children":[{"type":"text","value":"srr"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-th","props":{"align":"center"},"children":[{"type":"text","value":"Modern Mode"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tbody","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{"align":"center"},"children":[{"type":"text","value":"server"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{"align":"center"},"children":[{"type":"text","value":"client"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Le mode "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"moderne"}]},{"type":"text","value":" pour "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":" ne peut être que "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"client"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Il faut utiliser "},{"type":"element","tag":"prose-a","props":{"href":"/docs/configuration-glossary/configuration-render#crossorigin"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"render.crossorigin"}]}]},{"type":"text","value":" pour définir l'attribut "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"crossorigin"}]},{"type":"text","value":" dans "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<link>"}]},{"type":"text","value":" et "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<script>"}]},{"type":"text","value":"."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Se réferer à l'excellent post de "},{"type":"element","tag":"prose-a","props":{"href":"https://philipwalton.com/articles/deploying-es2015-code-in-production-today/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Phillip Walton"}]},{"type":"text","value":" sur les builds modernes."}]},{"type":"text","value":"\n"}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}}