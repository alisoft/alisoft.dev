{"key":"content:pt:deployments:google-appengine.md","generatedAt":"2022-03-15T12:42:50.127Z","mtime":"2022-03-15T12:42:50.121Z","slug":"google-appengine","title":"Google App Engine","position":"999999999999","to":"/pt/deployments/google-appengine","draft":false,"page":true,"language":"en","template":"guide","description":"Como desdobrar o Nuxt na Google App Engine?","target":"Server","category":"deployment","logo":{"light":"/img/companies/square/light/Google_engine_app.svg","dark":"/img/companies/square/dark/Google_engine_app.svg"},"empty":false,"body":{"raw":"---\ntemplate: guide\ntitle: Google App Engine\ndescription: Como desdobrar o Nuxt na Google App Engine?\ntarget: Server\ncategory: deployment\nlogo:\n  light: \"/img/companies/square/light/Google_engine_app.svg\"\n  dark: \"/img/companies/square/dark/Google_engine_app.svg\"\n---\n# Desdobrar o Nuxt na Google App Engine\n\nComo desdobrar o Nuxt na Google App Engine?\n\n---\n\nDesdobrar para [Google App Engine](https://cloud.google.com/appengine/) é uma solução rápida e fácil para hospedagem da sua aplicação Nuxt universal nos Serviços da Nuvem do Google.\n\nNeste guia, nós construímos a aplicação localmente e depois simplesmente carregamos a pasta do projeto inteira para o Google App Engine. Depois do carregamento, o Google App Engine irá automaticamente iniciar o script `start` dentro do nosso package.json e sua aplicação estará disponível automaticamente.\n\n## Pontapé de Saída\n\nCertifique-se de que você tenha uma conta na Nuvem do Google (Google Cloud), um projeto e uma aplicação do Google App Engine vazia configurada no [Google App Engine](https://cloud.google.com/appengine/). Além disso, certifique-se de descarregar e instalar a partir do Google a interface de linha de comando do Cloud SDK como explicado [aqui](https://cloud.google.com/sdk/) e iniciar a sessão com a sua conta da Nuvem do Google (Google Cloud). \n\n## Configure a sua aplicação\n\nTudo o que você precisa adicionar à sua aplicação Nuxt universal para desdobrar ela para o Google App Engine é um ficheiro chamado `app.yaml`. Crie um novo ficheiro com esse nome dentro da raiz do diretório do projeto e adicionar o seguinte conteúdo:\n\n```yaml\nruntime: nodejs10\n\ninstance_class: F2\n\nhandlers:\n  - url: /_nuxt\n    static_dir: .nuxt/dist/client\n    secure: always\n\n  - url: /(.*\\.(gif|png|jpg|ico|txt))$\n    static_files: static/\\1\n    upload: static/.*\\.(gif|png|jpg|ico|txt)$\n    secure: always\n\n  - url: /.*\n    script: auto\n    secure: always\n\nenv_variables:\n  HOST: '0.0.0.0'\n```\n\nOr para ambientes flexíveis a configuração mínima é:\n\n```yaml\nruntime: nodejs\nenv: flex\n```\n\n## Construa e desdobre a aplicação\n\nAgora construa a sua aplicação com `npm run build` ou `yarn build`.\n\nNeste ponto, a sua aplicação está pronta para ser carregada para o Google App Engine. Agora apenas execute o seguinte comando:\n\n```\ngcloud app deploy app.yaml --project [project-id]\n```\n\nVoilà! Agora, a sua aplicação Nuxt está hospedada no Google App Engine!\n\n## Informações Avançadas\n\n- O atributo `instance_class` dentro do seu ficheiro app.yaml define a classe da instância da sua aplicação. A instância F2 não é completamente gratuita, mas tem o mínimo de memória necessária para executar a sua aplicação Nuxt.\n- Certifique-se de que o script `start` dentro do package.json é o comando que você quer executar depois do desdobramento. Se você normalmente executa pelo script `start:prod` ou algum outro comando, sua aplicação não funcionará como esperado.\n\nCertifique-se de colocar o `project-id` e não o `project-name` dentro do comando deploy. Essas são duas coisas diferentes mas fácil de baralhar.\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"desdobrar-o-nuxt-na-google-app-engine"},"children":[{"type":"text","value":"Desdobrar o Nuxt na Google App Engine"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{"class":"d-heading-description"},"children":[{"type":"text","value":"Como desdobrar o Nuxt na Google App Engine?"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-hr","props":{"class":"d-heading-hr"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Desdobrar para "},{"type":"element","tag":"prose-a","props":{"href":"https://cloud.google.com/appengine/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Google App Engine"}]},{"type":"text","value":" é uma solução rápida e fácil para hospedagem da sua aplicação Nuxt universal nos Serviços da Nuvem do Google."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Neste guia, nós construímos a aplicação localmente e depois simplesmente carregamos a pasta do projeto inteira para o Google App Engine. Depois do carregamento, o Google App Engine irá automaticamente iniciar o script "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"start"}]},{"type":"text","value":" dentro do nosso package.json e sua aplicação estará disponível automaticamente."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"pontapé-de-saída"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#pontap%C3%A9-de-sa%C3%ADda"},"children":[{"type":"text","value":"Pontapé de Saída"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Certifique-se de que você tenha uma conta na Nuvem do Google (Google Cloud), um projeto e uma aplicação do Google App Engine vazia configurada no "},{"type":"element","tag":"prose-a","props":{"href":"https://cloud.google.com/appengine/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Google App Engine"}]},{"type":"text","value":". Além disso, certifique-se de descarregar e instalar a partir do Google a interface de linha de comando do Cloud SDK como explicado "},{"type":"element","tag":"prose-a","props":{"href":"https://cloud.google.com/sdk/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"aqui"}]},{"type":"text","value":" e iniciar a sessão com a sua conta da Nuvem do Google (Google Cloud)."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"configure-a-sua-aplicação"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#configure-a-sua-aplica%C3%A7%C3%A3o"},"children":[{"type":"text","value":"Configure a sua aplicação"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Tudo o que você precisa adicionar à sua aplicação Nuxt universal para desdobrar ela para o Google App Engine é um ficheiro chamado "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"app.yaml"}]},{"type":"text","value":". Crie um novo ficheiro com esse nome dentro da raiz do diretório do projeto e adicionar o seguinte conteúdo:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-yaml"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"runtime"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" nodejs10\n\n"},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"instance_class"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" F2\n\n"},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"handlers"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"url"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /_nuxt\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"static_dir"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" .nuxt/dist/client\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"secure"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" always\n\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"url"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /(."},{"type":"element","tag":"span","props":{"className":["token","important"]},"children":[{"type":"text","value":"*\\.(gif|png|jpg|ico|txt))$"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"static_files"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" static/\\1\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"upload"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" static/."},{"type":"element","tag":"span","props":{"className":["token","important"]},"children":[{"type":"text","value":"*\\.(gif|png|jpg|ico|txt)$"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"secure"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" always\n\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"url"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /.*\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" auto\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"secure"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" always\n\n"},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"env_variables"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"HOST"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'0.0.0.0'"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Or para ambientes flexíveis a configuração mínima é:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-yaml"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"runtime"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" nodejs\n"},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"env"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" flex\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"construa-e-desdobre-a-aplicação"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#construa-e-desdobre-a-aplica%C3%A7%C3%A3o"},"children":[{"type":"text","value":"Construa e desdobre a aplicação"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Agora construa a sua aplicação com "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"npm run build"}]},{"type":"text","value":" ou "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"yarn build"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Neste ponto, a sua aplicação está pronta para ser carregada para o Google App Engine. Agora apenas execute o seguinte comando:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-text"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"gcloud app deploy app.yaml --project [project-id]\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Voilà! Agora, a sua aplicação Nuxt está hospedada no Google App Engine!"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"informações-avançadas"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#informa%C3%A7%C3%B5es-avan%C3%A7adas"},"children":[{"type":"text","value":"Informações Avançadas"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"O atributo "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"instance_class"}]},{"type":"text","value":" dentro do seu ficheiro app.yaml define a classe da instância da sua aplicação. A instância F2 não é completamente gratuita, mas tem o mínimo de memória necessária para executar a sua aplicação Nuxt."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Certifique-se de que o script "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"start"}]},{"type":"text","value":" dentro do package.json é o comando que você quer executar depois do desdobramento. Se você normalmente executa pelo script "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"start:prod"}]},{"type":"text","value":" ou algum outro comando, sua aplicação não funcionará como esperado."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Certifique-se de colocar o "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"project-id"}]},{"type":"text","value":" e não o "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"project-name"}]},{"type":"text","value":" dentro do comando deploy. Essas são duas coisas diferentes mas fácil de baralhar."}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"pontapé-de-saída","depth":2,"text":"Pontapé de Saída"},{"id":"configure-a-sua-aplicação","depth":2,"text":"Configure a sua aplicação"},{"id":"construa-e-desdobre-a-aplicação","depth":2,"text":"Construa e desdobre a aplicação"},{"id":"informações-avançadas","depth":2,"text":"Informações Avançadas"}]}}}