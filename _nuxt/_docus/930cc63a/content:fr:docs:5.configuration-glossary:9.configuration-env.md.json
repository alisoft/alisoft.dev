{"key":"content:fr:docs:5.configuration-glossary:9.configuration-env.md","generatedAt":"2022-03-15T12:42:47.477Z","mtime":"2022-03-15T12:42:47.466Z","slug":"configuration-env","title":"La propriété env","position":"999900050009","to":"/docs/configuration-glossary/configuration-env","draft":false,"page":true,"language":"fr","navigation":{"title":"env"},"description":"Permet de partager des variables d'environnement entre le client et le serveur.","menu":"env","category":"configuration-glossary","empty":false,"body":{"raw":"---\ntitle: La propriété env\nnavigation.title: env\ndescription: Permet de partager des variables d'environnement entre le client et le serveur.\nmenu: env\ncategory: configuration-glossary\n---\n\n# La propriété env\n\nPermet de partager des variables d'environnement entre le client et le serveur.\n\n---\n\n- Type: `Object`\n\n> Nuxt nous permet de créer des variables d'environnement côté client et de les partager aussi côté serveur.\n\nLa propriété `env` définit les variables d'environnement qui devraient être disponibles côté client. Elles peuvent être assignées en utilisant les variables d'environnement côté serveur. Pour plus d'informations, voir le [module dotenv](https://github.com/nuxt-community/dotenv-module).\n\n::alert\nFor nuxt versions > 2.12+, in cases where environment variables are required at runtime (not build time) it is recommended to subsitute the `env` property with [runtimeConfig properties](/docs/configuration-glossary/configuration-runtime-config): `publicRuntimeOptions` and `privateRuntimeOptions`. \n<br>\nLearn more with our tutorial about [moving from @nuxtjs/dotenv to runtime config](/tutorials/moving-from-nuxtjs-dotenv-to-runtime-config/).\n::\n\n**Faites attention de lire à propos de `process.env` et `process.env == {}` ci-dessous pour un meilleur débogage.**\n\n```js{}[nuxt.config.js]\nexport default {\n  env: {\n    baseUrl: process.env.BASE_URL || 'http://localhost:3000'\n  }\n}\n```\n\nCela nous permet de créer une propriété `baseUrl` qui sera égale à la variable d'environment côté serveur nommée `BASE_URL` si disponible/définie. Sinon, `baseUrl` côté client sera égale à `'http://localhost:3000'`. La variable `BASE_URL` côté serveur sera ainsi copiée côté client via la propriété `env` du fichier `nuxt.config.js`. En dernier recours, la valeur sera égale à `'http://localhost:3000'`.\n\nEnsuite, on peut avoir accès à la variable `baseUrl` de 2 façons:\n\n1. Via `process.env.baseUrl`.\n2. Via `context.env.baseUrl`, voir l'[API context](/docs/internals-glossary/context).\n\nOn peut par exemple, utiliser la propriété `env` pour donner un token public.\n\nPour l'exemple au dessus, on peut l'utiliser pour configurer [axios](https://github.com/mzabriskie/axios).\n\n```js{}[plugins/axios.js]\nimport axios from 'axios'\n\nexport default axios.create({\n  baseURL: process.env.baseUrl\n})\n```\n\nEnsuite, dans nos pages, on peut import axios ainsi: `import axios from '~/plugins/axios'`.\n\n## Injection automatique de variables d'environnement\n\nSi on définit des variables d'environnement commençant par un `NUXT_ENV_` lors de la phase de build (ex: `NUXT_ENV_COOL_WORD=freezing nuxt build`), elles seront automatiquement injectées dans le processus de l'environnement. Attention cependant à ne pas oublier que ces variables peuvent écraser des variables du même nom précédemment définies dans le fichier `nuxt.config.js`.\n\n## process.env == {}\n\nIl faut savoir que Nuxt utilise `definePlugin` de Webpack pour définir les variables d'environnement. Cela veut dire que les `process` ou `process.env` de Node.js ne sont ni disponibles ni définis. Chaque propriété d'`env` définie dans `nuxt.config.js` est individuellement mappée à un `process.env.xxxx` et convertie durant la compilation.\n\nCela veut dire que `console.log(process.env)` va renvoyer `{}` mais que `console.log(process.env.notre_variable)` va tout de même renvoyer notre valeur. Lorsque Webpack compile notre code, il remplace toutes les instances de `process.env.your_variable` par la valeur qui lui est attribuée.\n\nExemple: `env.test = 'testing123'`. Si on utilise `process.env.test` quelque part dans notre code, cela sera traduit en `'testing123'`.\n\navant\n\n```js\nif (process.env.test == 'testing123')\n```\n\naprès\n\n```js\nif ('testing123' == 'testing123')\n```\n\n## serverMiddleware\n\nComme le [serverMiddleware](/docs/configuration-glossary/configuration-servermiddleware) est découplé du build principal de Nuxt, les variables `env` définies dans le fichier `nuxt.config.js` n'y seront pas disponibles.\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"la-propriété-env"},"children":[{"type":"text","value":"La propriété env"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{"class":"d-heading-description"},"children":[{"type":"text","value":"Permet de partager des variables d'environnement entre le client et le serveur."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-hr","props":{"class":"d-heading-hr"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt nous permet de créer des variables d'environnement côté client et de les partager aussi côté serveur."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"La propriété "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"env"}]},{"type":"text","value":" définit les variables d'environnement qui devraient être disponibles côté client. Elles peuvent être assignées en utilisant les variables d'environnement côté serveur. Pour plus d'informations, voir le "},{"type":"element","tag":"prose-a","props":{"href":"https://github.com/nuxt-community/dotenv-module","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"module dotenv"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"For nuxt versions > 2.12+, in cases where environment variables are required at runtime (not build time) it is recommended to subsitute the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"env"}]},{"type":"text","value":" property with "},{"type":"element","tag":"prose-a","props":{"href":"/docs/configuration-glossary/configuration-runtime-config"},"children":[{"type":"text","value":"runtimeConfig properties"}]},{"type":"text","value":": "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"publicRuntimeOptions"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"privateRuntimeOptions"}]},{"type":"text","value":".\n"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nLearn more with our tutorial about "},{"type":"element","tag":"prose-a","props":{"href":"/tutorials/moving-from-nuxtjs-dotenv-to-runtime-config/"},"children":[{"type":"text","value":"moving from @nuxtjs/dotenv to runtime config"}]},{"type":"text","value":"."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Faites attention de lire à propos de "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.env"}]},{"type":"text","value":" et "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.env == {}"}]},{"type":"text","value":" ci-dessous pour un meilleur débogage."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  env"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    baseUrl"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" process"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"env"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","constant"]},"children":[{"type":"text","value":"BASE_URL"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"||"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'http://localhost:3000'"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Cela nous permet de créer une propriété "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"baseUrl"}]},{"type":"text","value":" qui sera égale à la variable d'environment côté serveur nommée "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"BASE_URL"}]},{"type":"text","value":" si disponible/définie. Sinon, "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"baseUrl"}]},{"type":"text","value":" côté client sera égale à "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"'http://localhost:3000'"}]},{"type":"text","value":". La variable "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"BASE_URL"}]},{"type":"text","value":" côté serveur sera ainsi copiée côté client via la propriété "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"env"}]},{"type":"text","value":" du fichier "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":". En dernier recours, la valeur sera égale à "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"'http://localhost:3000'"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Ensuite, on peut avoir accès à la variable "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"baseUrl"}]},{"type":"text","value":" de 2 façons:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ol","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Via "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.env.baseUrl"}]},{"type":"text","value":"."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Via "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"context.env.baseUrl"}]},{"type":"text","value":", voir l'"},{"type":"element","tag":"prose-a","props":{"href":"/docs/internals-glossary/context"},"children":[{"type":"text","value":"API context"}]},{"type":"text","value":"."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"On peut par exemple, utiliser la propriété "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"env"}]},{"type":"text","value":" pour donner un token public."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Pour l'exemple au dessus, on peut l'utiliser pour configurer "},{"type":"element","tag":"prose-a","props":{"href":"https://github.com/mzabriskie/axios","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"axios"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"plugins/axios.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","imports"]},"children":[{"type":"text","value":"axios"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'axios'"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" axios"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  baseURL"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" process"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"env"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"baseUrl"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Ensuite, dans nos pages, on peut import axios ainsi: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"import axios from '~/plugins/axios'"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"injection-automatique-de-variables-denvironnement"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#injection-automatique-de-variables-denvironnement"},"children":[{"type":"text","value":"Injection automatique de variables d'environnement"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Si on définit des variables d'environnement commençant par un "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"NUXT_ENV_"}]},{"type":"text","value":" lors de la phase de build (ex: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"NUXT_ENV_COOL_WORD=freezing nuxt build"}]},{"type":"text","value":"), elles seront automatiquement injectées dans le processus de l'environnement. Attention cependant à ne pas oublier que ces variables peuvent écraser des variables du même nom précédemment définies dans le fichier "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"processenv--"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#processenv--"},"children":[{"type":"text","value":"process.env == {}"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Il faut savoir que Nuxt utilise "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"definePlugin"}]},{"type":"text","value":" de Webpack pour définir les variables d'environnement. Cela veut dire que les "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process"}]},{"type":"text","value":" ou "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.env"}]},{"type":"text","value":" de Node.js ne sont ni disponibles ni définis. Chaque propriété d'"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"env"}]},{"type":"text","value":" définie dans "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":" est individuellement mappée à un "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.env.xxxx"}]},{"type":"text","value":" et convertie durant la compilation."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Cela veut dire que "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"console.log(process.env)"}]},{"type":"text","value":" va renvoyer "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"{}"}]},{"type":"text","value":" mais que "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"console.log(process.env.notre_variable)"}]},{"type":"text","value":" va tout de même renvoyer notre valeur. Lorsque Webpack compile notre code, il remplace toutes les instances de "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.env.your_variable"}]},{"type":"text","value":" par la valeur qui lui est attribuée."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Exemple: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"env.test = 'testing123'"}]},{"type":"text","value":". Si on utilise "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.env.test"}]},{"type":"text","value":" quelque part dans notre code, cela sera traduit en "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"'testing123'"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"avant"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"process"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"env"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"test"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"=="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'testing123'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"après"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'testing123'"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"=="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'testing123'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"servermiddleware"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#servermiddleware"},"children":[{"type":"text","value":"serverMiddleware"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Comme le "},{"type":"element","tag":"prose-a","props":{"href":"/docs/configuration-glossary/configuration-servermiddleware"},"children":[{"type":"text","value":"serverMiddleware"}]},{"type":"text","value":" est découplé du build principal de Nuxt, les variables "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"env"}]},{"type":"text","value":" définies dans le fichier "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":" n'y seront pas disponibles."}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"injection-automatique-de-variables-denvironnement","depth":2,"text":"Injection automatique de variables d'environnement"},{"id":"processenv--","depth":2,"text":"process.env == {}"},{"id":"servermiddleware","depth":2,"text":"serverMiddleware"}]}}}